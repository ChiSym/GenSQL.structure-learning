schema: '2.0'
stages:
  preprocess:
    cmd: "poetry run preprocess --data data/data.csv --output data/preprocessed.csv
      --column_model_output data/column_models.json --sql \"SELECT CASE rxarm WHEN
      'A' THEN 'Assigned endocrine therapy alone' WHEN 'B' THEN 'Randomized to endocrine
      therapy alone' WHEN 'C' THEN 'Randomized to chemo + endocrine therapy' WHEN
      'D' THEN 'Assigned chemo + endocrine therapy' ELSE NULL END as treatment_assignment,
      CASE ChemRegGp WHEN '1CMF' THEN 'CMF' WHEN '2Anthracycline w/o Taxane' THEN
      'Anthracycline' WHEN '3Anthracycline and Taxane' THEN 'Anthracycline and Taxane'
      WHEN '4TC and variations' THEN 'TC' WHEN '6None' THEN 'None' ELSE NULL END as
      chemotherapy, CASE WHEN TypeEndocrine IN ('AI', 'OFS & AI', 'Tam & AI') THEN
      'Yes' ELSE 'No' END as endocrine_therapy_ai, CASE WHEN TypeEndocrine IN ('OFS',
      'OFS & AI') THEN 'Yes' ELSE 'No' END as endocrine_therapy_ofs, CASE WHEN TypeEndocrine
      IN ('Tam', 'Tam & AI') THEN 'Yes' ELSE 'No' END as endocrine_therapy_tam, meno
      as menopausal_status, log(1 + RS) as genetic_recurrence_score, CASE age WHEN
      'NA' THEN NULL ELSE CAST (age AS FLOAT) END as age, CASE WHEN ethnicity = 1
      THEN 'Hispanic' WHEN race = 1 THEN 'White' WHEN race = 3 THEN 'Black' WHEN race
      = 4 THEN 'Asian' WHEN race = 5 THEN 'Native Hawaiian or Pacific Islander' WHEN
      race = 6 THEN 'Native American' WHEN race = 7 THEN 'Multirace' ELSE NULL END
      as race_ethnicity, log(CASE TumorSize WHEN 'NA' THEN NULL ELSE CAST (TumorSize
      AS FLOAT) END) as tumor_size, CASE Grade WHEN 'NA' THEN NULL ELSE Grade END
      as tumor_grade, CASE NucGrade WHEN 'NA' THEN NULL ELSE NucGrade END as nuclear_grade,
      CASE PRStatus WHEN 'NA' THEN NULL ELSE PRStatus END as progesterone_receptor_status,
      CASE PrimSurg WHEN 'Mx' THEN 'Mastectomy' WHEN 'Tx' THEN 'Breast conservation'
      ELSE NULL END as primary_surgical_procedure, log(1 + dfs) as disease_free_survival,
      CASE survstat WHEN 1 THEN 'dead' WHEN 0 THEN 'alive' ELSE NULL END as survival_status,
      CASE rfiind WHEN 1 THEN 'recurrence' WHEN 0 THEN 'no recurrence' ELSE NULL END
      as recurrence_indicator, CASE drfiind WHEN 1 THEN 'distant recurrence' WHEN
      0 THEN 'no distant recurrence' ELSE NULL END as distant_recurrence_indicator
      FROM data WHERE inel = 0\"\n"
    deps:
    - path: data/data.csv
      hash: md5
      md5: 934f3db330d8af2c7e0e5b136725b09b
      size: 1852524
    outs:
    - path: data/column_models.json
      hash: md5
      md5: 0ffab21b6a8c9f1ba9f53e973fdbe5a7
      size: 2531
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
  create-column-models:
    cmd: "poetry run create-column-models --data data/preprocessed.csv --output data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: b853bf59d00f3208387d92747ab15340
      size: 51991
    outs:
    - path: data/column_models.json
      hash: md5
      md5: e8b9c31c41b2cb967afc14be76e6b4d6
      size: 3350
  loom-schema:
    cmd: "poetry run loom_schema --column_models data/column_models.json --output
      data/loom-schema.json\n"
    deps:
    - path: data/column_models.json
      hash: md5
      md5: 0ffab21b6a8c9f1ba9f53e973fdbe5a7
      size: 2531
    outs:
    - path: data/loom-schema.json
      hash: md5
      md5: f0cc883d91a6a0e9100c94e157ab02c7
      size: 550
  loom-ingest:
    cmd: ./bin/loom_task ingest loom data/loom-schema.json data/preprocessed.csv
    deps:
    - path: data/loom-schema.json
      hash: md5
      md5: f0cc883d91a6a0e9100c94e157ab02c7
      size: 550
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    outs:
    - path: loom/ingest
      hash: md5
      md5: 91d6f3ee5d53cedcb956982d7f59edb3.dir
      size: 418198
      nfiles: 7
    - path: loom/query
      hash: md5
      md5: 9a0631db00f901a80d3df92cf214967d.dir
      size: 106
      nfiles: 1
  loom-infer-config:
    cmd: "yq -o=json '.loom' params.yaml > data/infer-config.json\n"
    outs:
    - path: data/infer-config.json
      hash: md5
      md5: bf8883ff4c17bbea44e70d20a2dcfb75
      size: 205
  loom-infer:
    cmd: ./bin/loom_task infer loom 50 data/infer-config.json
    deps:
    - path: data/infer-config.json
      hash: md5
      md5: bf8883ff4c17bbea44e70d20a2dcfb75
      size: 205
    - path: loom/ingest
      hash: md5
      md5: 91d6f3ee5d53cedcb956982d7f59edb3.dir
      size: 418198
      nfiles: 7
    - path: loom/query
      hash: md5
      md5: 9a0631db00f901a80d3df92cf214967d.dir
      size: 106
      nfiles: 1
    params:
      params.yaml:
        sample_count: 50
    outs:
    - path: loom/samples
      hash: md5
      md5: 369bbd9311c0b849997a842f5854a297.dir
      size: 494484708
      nfiles: 975
  loom-sample:
    cmd: "./bin/loom python scripts/loom_sample.py --sample_count 10000 --output data/synthetic-data-loom.csv\n"
    deps:
    - path: loom/samples
      hash: md5
      md5: 369bbd9311c0b849997a842f5854a297.dir
      size: 494484708
      nfiles: 975
    - path: scripts/loom_sample.py
      hash: md5
      md5: d6449af8a6b43427f73f6ff14a87aec7
      size: 1290
    outs:
    - path: data/synthetic-data-loom.csv
      hash: md5
      md5: fbb068e7f921e8757d2722ed204b363b
      size: 1938431
  loom-dump-metadata:
    cmd: "find loom/samples -type f ! -name '*.json' | parallel --verbose \"./bin/loom
      python scripts/loom_to_json.py loom_to_json {}\"\n"
    deps:
    - path: loom/samples
      hash: md5
      md5: eda41ef5ea950d8392cd4b1f2643f09f.dir
      size: 1162419
      nfiles: 42
    params:
      params.yaml:
        parallel.flags: --verbose
  loom_to_cgpm:
    cmd: "poetry run loom_to_cgpm --column_model_filename data/column_models.json
      --loom_filename loom/samples/sample.0/model.json\n"
    deps:
    - path: data/column_models.json
      hash: md5
      md5: 586ef82a47f37b4a71cbeee054acccac
      size: 3367
    - path: loom/samples
      hash: md5
      md5: eda41ef5ea950d8392cd4b1f2643f09f.dir
      size: 1162419
      nfiles: 42
  marginal-fits-loom:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model loom  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-loom.csv
      hash: md5
      md5: 8af2dd438a073a3989331a83ff89d282
      size: 1906965
    outs:
    - path: qc/marginals/loom_1d_fits.csv
      hash: md5
      md5: 51e0313a764f03559fc51598249a2d2f
      size: 938
    - path: qc/marginals/loom_2d_fits.csv
      hash: md5
      md5: 3d8b1bd212571067839b1cc6bf909202
      size: 12683
    - path: qc/marginals/loom_worst_1d_fit.html
      hash: md5
      md5: aad2a61812288507e12b4a482f59e097
      size: 3646318
    - path: qc/marginals/loom_worst_1d_fit.png
      hash: md5
      md5: be60964abaa4c32756eff60379c3f0ba
      size: 111057
    - path: qc/marginals/loom_worst_2d_fit.html
      hash: md5
      md5: f95c3efc555f163337ef104734c16db5
      size: 3932177
    - path: qc/marginals/loom_worst_2d_fit.png
      hash: md5
      md5: 0f7a5823b1ba45bb7d18ce81764fde30
      size: 74167
  loom-to-json:
    cmd: "find loom/samples -type f ! -name '*.json' | parallel  \"./bin/loom python
      scripts/loom_to_json.py loom_to_json {}\"\n"
    deps:
    - path: loom/samples
      hash: md5
      md5: 369bbd9311c0b849997a842f5854a297.dir
      size: 494484708
      nfiles: 975
  loom-to-cgpm:
    cmd: "mkdir -p data/cgpm/hydrated && ls loom/samples | parallel  \"poetry run
      loom_to_cgpm --column_model_filename data/column_models.json --data_filename
      data/preprocessed.csv --loom_folder loom/samples/{} --out_filename data/cgpm/hydrated/{}.json\"\
      \n"
    deps:
    - path: data/column_models.json
      hash: md5
      md5: 0ffab21b6a8c9f1ba9f53e973fdbe5a7
      size: 2531
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: loom/samples
      hash: md5
      md5: 369bbd9311c0b849997a842f5854a297.dir
      size: 494484708
      nfiles: 975
    outs:
    - path: data/cgpm/hydrated
      hash: md5
      md5: 1c1ad4a99bc3e9743b31a8a605d10d59.dir
      size: 3139070
      nfiles: 50
  cgpm-hydrated-sample:
    cmd: "poetry run cgpm-sample --sample_count 10000 --output data/synthetic-data-cgpm-raw.csv
      --model_dir data/cgpm/hydrated --data data/preprocessed.csv\n"
    deps:
    - path: data/cgpm/hydrated
      hash: md5
      md5: 66ac088de57ef99086f016d4404ba7de.dir
      size: 11185489
      nfiles: 10
    outs:
    - path: data/synthetic-data-cgpm-raw.csv
      hash: md5
      md5: df2210c18c98fc74093c77ab102752f8
      size: 2111766
  marginal-fits-cgpm-raw:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model cgpm-raw --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw.csv
      hash: md5
      md5: df2210c18c98fc74093c77ab102752f8
      size: 2111766
    outs:
    - path: qc/marginals/cgpm-raw_1d_fits.csv
      hash: md5
      md5: e9673048c9e37ae244b2019b4b29d928
      size: 938
    - path: qc/marginals/cgpm-raw_2d_fits.csv
      hash: md5
      md5: 7691e2fd4069db13cef477d2810f27a1
      size: 12666
    - path: qc/marginals/cgpm-raw_worst_1d_fit.html
      hash: md5
      md5: 87e2e54b3f7053abb9b3eed39847de0a
      size: 3646626
    - path: qc/marginals/cgpm-raw_worst_1d_fit.png
      hash: md5
      md5: 3d6e9904aa93c4a0c449f978ed5656e2
      size: 107812
    - path: qc/marginals/cgpm-raw_worst_2d_fit.html
      hash: md5
      md5: 5cb986ce22861cf01f7f426e1a184d76
      size: 3963136
    - path: qc/marginals/cgpm-raw_worst_2d_fit.png
      hash: md5
      md5: a6a5060e3a2fc3248142cb4c9de16511
      size: 82729
  dependence-probability:
    cmd: poetry run dependence-probability --model_dir data/cgpm/hydrated --out_file
      qc/cgpm-hydrated-dependence-probability.csv
    deps:
    - path: data/cgpm/hydrated
      hash: md5
      md5: 66ac088de57ef99086f016d4404ba7de.dir
      size: 11185489
      nfiles: 10
    outs:
    - path: qc/cgpm-hydrated-dependence-probability.csv
      hash: md5
      md5: ee59bfed87067e1bc8fd866fb4be4c7a
      size: 13646
  marginal-fits-cgpm-raw@0:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw0\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@1:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw1\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@2:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw2\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@3:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw3\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@4:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw4\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@5:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw5\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@6:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw6\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@7:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw7\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@8:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw8\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  marginal-fits-cgpm-raw@9:
    cmd: "mkdir -p qc/marginals && poetry run marginal_fits --real_data data/preprocessed.csv
      --model \"cgpm-raw9\"  --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-raw0.csv
      hash: md5
      md5: 3b7e6e5ab69410c68dc5d13514bf41bc
      size: 2112827
  sample-baseline@ctgan:
    cmd: "poetry run sample-baseline --model ctgan --sample_count 10000\n"
    deps:
    - path: data/ctgan.pkl
      hash: md5
      md5: 8cfe996fdf408a6bf6ed687e1d1d2547
      size: 9560887
    outs:
    - path: data/synthetic-data-ctgan.csv
      hash: md5
      md5: 8e560b35fc20499bcc1c11c9f73325c8
      size: 1956987
  marginal-fits@ctgan:
    cmd: "poetry run marginal_fits --real_data data/preprocessed.csv --model ctgan
      --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-ctgan.csv
      hash: md5
      md5: 8e560b35fc20499bcc1c11c9f73325c8
      size: 1956987
    outs:
    - path: qc/marginals/ctgan_1d_fits.csv
      hash: md5
      md5: 50bd393df58547797b7f8a728dffd0f8
      size: 937
    - path: qc/marginals/ctgan_2d_fits.csv
      hash: md5
      md5: 9eb8866587c9b00a6869cb8ee6184dd2
      size: 12685
    - path: qc/marginals/ctgan_worst_1d_fit.html
      hash: md5
      md5: f2b9e8e4b1f1abbdcfe87c0876bcfff5
      size: 3645635
    - path: qc/marginals/ctgan_worst_1d_fit.png
      hash: md5
      md5: 179000addaa902ab4d1c5d4b477e4c8f
      size: 121262
    - path: qc/marginals/ctgan_worst_2d_fit.html
      hash: md5
      md5: 0e2092f0bedd1857c6803d56041bf33a
      size: 4777793
    - path: qc/marginals/ctgan_worst_2d_fit.png
      hash: md5
      md5: 5ca2686248ef206ceef5c832f09f96a1
      size: 123565
  marginal-fits-plot:
    cmd: "poetry run marginal-fits-plot -m cgpm-raw -m ctgan -m tvae\n"
    deps:
    - path: qc/marginals/cgpm-raw_1d_fits.csv
      hash: md5
      md5: e9673048c9e37ae244b2019b4b29d928
      size: 938
    - path: qc/marginals/cgpm-raw_2d_fits.csv
      hash: md5
      md5: 7691e2fd4069db13cef477d2810f27a1
      size: 12666
    - path: qc/marginals/ctgan_1d_fits.csv
      hash: md5
      md5: 50bd393df58547797b7f8a728dffd0f8
      size: 937
    - path: qc/marginals/ctgan_2d_fits.csv
      hash: md5
      md5: 9eb8866587c9b00a6869cb8ee6184dd2
      size: 12685
    outs:
    - path: qc/marginals/1d_fits.csv
      hash: md5
      md5: 6770c6ed2e804856e11525feaff2f08d
      size: 2564
    - path: qc/marginals/2d_fits.csv
      hash: md5
      md5: ef1bda9ca931c86db98362d14346b58d
      size: 30715
  dependence-probability@hydrated:
    cmd: poetry run dependence-probability --model_dir data/cgpm/hydrated --out_file
      qc/cgpm-hydrated-dependence-probability.csv
    deps:
    - path: data/cgpm/hydrated
      hash: md5
      md5: 1c1ad4a99bc3e9743b31a8a605d10d59.dir
      size: 3139070
      nfiles: 50
    outs:
    - path: qc/cgpm-hydrated-dependence-probability.csv
      hash: md5
      md5: becde26321c516c3539679bbd21dc2e3
      size: 13897
  train-baseline@ctgan:
    cmd: "poetry run train-baseline --data data/preprocessed.csv --column_models data/column_models.json
      --model ctgan\n"
    deps:
    - path: data/column_models.json
      hash: md5
      md5: 0ffab21b6a8c9f1ba9f53e973fdbe5a7
      size: 2531
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    outs:
    - path: data/ctgan.pkl
      hash: md5
      md5: 8cfe996fdf408a6bf6ed687e1d1d2547
      size: 9560887
  train-baseline@tvae:
    cmd: "poetry run train-baseline --data data/preprocessed.csv --column_models data/column_models.json
      --model tvae\n"
    deps:
    - path: data/column_models.json
      hash: md5
      md5: 0ffab21b6a8c9f1ba9f53e973fdbe5a7
      size: 2531
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    outs:
    - path: data/tvae.pkl
      hash: md5
      md5: 86caf3f76ab93ffcf9eb3b56865c02d3
      size: 437236
  sample-baseline@tvae:
    cmd: "poetry run sample-baseline --model tvae --sample_count 10000\n"
    deps:
    - path: data/tvae.pkl
      hash: md5
      md5: 86caf3f76ab93ffcf9eb3b56865c02d3
      size: 437236
    outs:
    - path: data/synthetic-data-tvae.csv
      hash: md5
      md5: 37bf5565a5ee9393e64efb04cb6db60b
      size: 1962741
  marginal-fits@tvae:
    cmd: "poetry run marginal_fits --real_data data/preprocessed.csv --model tvae
      --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-tvae.csv
      hash: md5
      md5: 37bf5565a5ee9393e64efb04cb6db60b
      size: 1962741
    outs:
    - path: qc/marginals/tvae_1d_fits.csv
      hash: md5
      md5: 97d07f8a2d00e310be8b6827f35947bd
      size: 936
    - path: qc/marginals/tvae_2d_fits.csv
      hash: md5
      md5: d97b79a78eecbb82ee4d242cf8cc2e8b
      size: 12694
    - path: qc/marginals/tvae_worst_1d_fit.html
      hash: md5
      md5: 47beaa978dbbbeefa6b9bfafad7e9b17
      size: 3646626
    - path: qc/marginals/tvae_worst_1d_fit.png
      hash: md5
      md5: 4c75286385e3eda554203d02d09398d2
      size: 101953
    - path: qc/marginals/tvae_worst_2d_fit.html
      hash: md5
      md5: a677248bb9e3b1100130e3159b9db745
      size: 4099814
    - path: qc/marginals/tvae_worst_2d_fit.png
      hash: md5
      md5: c509520294d15c0794a516479be65335
      size: 79510
  cgpm-to-sppl:
    cmd: "poetry run cgpm-to-sppl --output data/sppl/merged.json --model_dir data/cgpm/hydrated
      --data data/preprocessed.csv\n"
    deps:
    - path: data/cgpm/hydrated
      hash: md5
      md5: 1c1ad4a99bc3e9743b31a8a605d10d59.dir
      size: 3139070
      nfiles: 50
    outs:
    - path: data/sppl/merged.json
      hash: md5
      md5: f6e0bf9fbc77422314fe0ed7ce28c5b4
      size: 1111831
  cgpm-sample@hydrated:
    cmd: "poetry run cgpm-sample --sample_count 10000 --output data/synthetic-data-cgpm-hydrated.csv
      --model_dir data/cgpm/hydrated --data data/preprocessed.csv\n"
    deps:
    - path: data/cgpm/hydrated
      hash: md5
      md5: 1c1ad4a99bc3e9743b31a8a605d10d59.dir
      size: 3139070
      nfiles: 50
    outs:
    - path: data/synthetic-data-cgpm-hydrated.csv
      hash: md5
      md5: 4644b9cb49b921f8e818a579d9cd737e
      size: 2124031
  sample-sppl:
    cmd: "poetry run sample-sppl --sample_count 10000 --output data/synthetic-data-sppl-hydrated.csv
      --model data/sppl/merged.json --data data/preprocessed.csv\n"
    deps:
    - path: data/sppl/merged.json
      hash: md5
      md5: f6e0bf9fbc77422314fe0ed7ce28c5b4
      size: 1111831
    outs:
    - path: data/synthetic-data-sppl-hydrated.csv
      hash: md5
      md5: 3d2170cc0d6bf6519b6cfbca4cacb35d
      size: 2124727
  marginal-fits@loom:
    cmd: "poetry run marginal_fits --real_data data/preprocessed.csv --model loom
      --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-loom.csv
      hash: md5
      md5: fbb068e7f921e8757d2722ed204b363b
      size: 1938431
    outs:
    - path: qc/marginals/loom_1d_fits.csv
      hash: md5
      md5: 3eed5c28a2fc2b20b0cdace800ad99c8
      size: 937
    - path: qc/marginals/loom_2d_fits.csv
      hash: md5
      md5: 272b95ac0260a53a93b4f073298f1b0f
      size: 12721
    - path: qc/marginals/loom_worst_1d_fit.html
      hash: md5
      md5: 2a2c42ea0a1fe652ecfaeae9650086b2
      size: 3640249
    - path: qc/marginals/loom_worst_1d_fit.png
      hash: md5
      md5: f9da529db297c1d13c5f8fcb811bffce
      size: 81464
    - path: qc/marginals/loom_worst_2d_fit.html
      hash: md5
      md5: c1a2d157761eab7007d75b5540c83704
      size: 4057539
    - path: qc/marginals/loom_worst_2d_fit.png
      hash: md5
      md5: a561167e2455fc3ce92427f3b86f9c4b
      size: 86993
  marginal-fits@cgpm-hydrated:
    cmd: "poetry run marginal_fits --real_data data/preprocessed.csv --model cgpm-hydrated
      --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-cgpm-hydrated.csv
      hash: md5
      md5: 4644b9cb49b921f8e818a579d9cd737e
      size: 2124031
    outs:
    - path: qc/marginals/cgpm-hydrated_1d_fits.csv
      hash: md5
      md5: e3fdcd0026d5216f00c6c3ebd4abe0a5
      size: 938
    - path: qc/marginals/cgpm-hydrated_2d_fits.csv
      hash: md5
      md5: 66df4e4a605347bd533ef8b0b1065ad0
      size: 12747
    - path: qc/marginals/cgpm-hydrated_worst_1d_fit.html
      hash: md5
      md5: d8fe45a9a8a06b53e922e9d4333fba43
      size: 3646210
    - path: qc/marginals/cgpm-hydrated_worst_1d_fit.png
      hash: md5
      md5: e7f333f1cab69e0f5da8e34c1f6c3921
      size: 97301
    - path: qc/marginals/cgpm-hydrated_worst_2d_fit.html
      hash: md5
      md5: a0adf6ae9e1549615b0d395c9333866c
      size: 4098800
    - path: qc/marginals/cgpm-hydrated_worst_2d_fit.png
      hash: md5
      md5: 3109c0d2a39e3eb54f4692a02d9e4654
      size: 73774
  marginal-fits@sppl-hydrated:
    cmd: "poetry run marginal_fits --real_data data/preprocessed.csv --model sppl-hydrated
      --column_models data/column_models.json\n"
    deps:
    - path: data/preprocessed.csv
      hash: md5
      md5: 3925fc60051c23a623f684df372f9663
      size: 1989484
    - path: data/synthetic-data-sppl-hydrated.csv
      hash: md5
      md5: 3d2170cc0d6bf6519b6cfbca4cacb35d
      size: 2124727
    outs:
    - path: qc/marginals/sppl-hydrated_1d_fits.csv
      hash: md5
      md5: 01e31c6e30534866da9782303ce462fb
      size: 938
    - path: qc/marginals/sppl-hydrated_2d_fits.csv
      hash: md5
      md5: 1693f18d463dbe33f5f658747e4a7f6d
      size: 12723
    - path: qc/marginals/sppl-hydrated_worst_1d_fit.html
      hash: md5
      md5: 3ed8953409e31a46aded5ce323b21a3d
      size: 3646807
    - path: qc/marginals/sppl-hydrated_worst_1d_fit.png
      hash: md5
      md5: e9e2f3159751ef7fb8d937b6ee5eb3d5
      size: 90657
    - path: qc/marginals/sppl-hydrated_worst_2d_fit.html
      hash: md5
      md5: b776fd43e267f95a5a6b4ea9f47f1bd7
      size: 4098586
    - path: qc/marginals/sppl-hydrated_worst_2d_fit.png
      hash: md5
      md5: 7f21e8e22a758508f9c2cd181b8108c1
      size: 78651
