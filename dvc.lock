schema: '2.0'
stages:
  subsample:
    cmd: "mkdir -p data/test && python scripts/subsample.py --data data/data.csv --test-data-dir
      data/test --params params.yaml --output data/subsampled.csv\n"
    deps:
    - path: data/data.csv
      hash: md5
      md5: 01adb404d8ff03253e908fc0be587c64
      size: 8236100
    - path: scripts/subsample.py
      hash: md5
      md5: e984c015340dc2e50d926b4e3931b9dd
      size: 1821
    params:
      params.yaml:
        seed: 42
        sub_sample:
          according_to_columns:
            year:
            - 2019
          N: 6053
    outs:
    - path: data/subsampled.csv
      hash: md5
      md5: 8a549a662f4975d7acb258f9d1481180
      size: 4124085
    - path: data/test
      hash: md5
      md5: 642f2569db39e46ffa613f77e68fb5f5.dir
      size: 4115215
      nfiles: 2
  validate-column-names:
    cmd: bin/validate.sh
    deps:
    - path: data/subsampled.csv
      hash: md5
      md5: 8a549a662f4975d7acb258f9d1481180
      size: 4124085
    outs:
    - path: data/validated.csv
      hash: md5
      md5: 8a549a662f4975d7acb258f9d1481180
      size: 4124085
  nullify:
    cmd: "clojure -X inferenceql.structure-learning.main/nullify < data/validated.csv
      > data/nullified.csv\n"
    deps:
    - path: data/validated.csv
      hash: md5
      md5: 8a549a662f4975d7acb258f9d1481180
      size: 4124085
    params:
      params.yaml:
        nullify:
    outs:
    - path: data/nullified.csv
      hash: md5
      md5: 8a549a662f4975d7acb258f9d1481180
      size: 4124085
  guess-schema:
    cmd: "clojure -X inferenceql.structure-learning.main/guess-schema < data/nullified.csv
      > data/schema.edn\n"
    deps:
    - path: data/nullified.csv
      hash: md5
      md5: 8a549a662f4975d7acb258f9d1481180
      size: 4124085
    params:
      params.yaml:
        schema:
          rakutenid: ignore
          year: ignore
          age: numerical
          household_composition_single: nominal
          household_composition_spouse: nominal
          household_composition_childrens_spouse: nominal
          household_composition_parents_of_spouse: nominal
          household_composition_children: nominal
          household_composition_childs_wife_or_son_in_law: nominal
          household_composition_grandchildren: nominal
          household_composition_your_siblings: nominal
          household_composition_spouse_siblings: nominal
          household_composition_other_relatives: nominal
          household_composition_non_relatives: nominal
          final_education_you: nominal
          final_education_spouse: nominal
          final_education_father: nominal
          final_education_mother: nominal
          current_working_status: nominal
          current_working_status_spouse: nominal
          current_working_status_father: nominal
          current_working_status_mother: nominal
          looking_for_a_job: nominal
          spouse_looking_for_a_job: nominal
          assets_such_as_houses_and_land: nominal
          balance_of_financial_assets: nominal
          current_mortgage_balance: nominal
          non_mortgage_debt: nominal
          big_five_extraverted_enthusiastic: nominal
          big_five_critical_quarrelsome: nominal
          big_five_dependable_self_disciplined: nominal
          big_five_anxious_easily_upset: nominal
          big_five_open_to_new_experiencescomplex: nominal
          big_five_reserved_quiet: nominal
          big_five_sympathetic_warm: nominal
          big_five_disorganized_careless: nominal
          big_five_calm_emotionally_stable: nominal
          big_five_conventional_uncreative: nominal
          gender: nominal
          pref: nominal
          region: nominal
          extraversion: nominal
          agreeableness: nominal
          conscientiousness: nominal
          neuroticism: nominal
          openness: nominal
          schooling: nominal
          spouse_schooling: nominal
          father_schooling: nominal
          mother_schooling: nominal
          income: nominal
          spouse_income: nominal
          hh_income: nominal
          hopeful_income: nominal
          hhsize: nominal
          children: nominal
          child_underprimary: nominal
          child_primary: nominal
          child_secondary: nominal
          child_university: nominal
          decision_making_invovles_durablegoods: nominal
          decision_making_invovles_dailygoods: nominal
          decision_making_invovles_invest: nominal
          values_intl: nominal
          values_energy: nominal
          values_eat: nominal
          values_product: nominal
          values_fairtrade: nominal
          values_work: nominal
          values_localgrown: nominal
          values_ac: nominal
          values_peace: nominal
          values_invest: nominal
    outs:
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
  cgpm-schema:
    cmd: "clojure -X inferenceql.structure-learning.main/cgpm-schema < data/schema.edn
      > data/cgpm-schema.edn\n"
    deps:
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    outs:
    - path: data/cgpm-schema.edn
      hash: md5
      md5: cabc76bbb3541bbbd0f31f11658dde10
      size: 2787
  ignore:
    cmd: "clojure -X inferenceql.structure-learning.main/ignore :schema '\"data/schema.edn\"\
      ' < data/nullified.csv > data/ignored.csv\n"
    deps:
    - path: data/nullified.csv
      hash: md5
      md5: 8a549a662f4975d7acb258f9d1481180
      size: 4124085
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    outs:
    - path: data/ignored.csv
      hash: md5
      md5: c47b1a3e0c9d37e46ece4ca396e6abf2
      size: 4064299
  numericalize:
    cmd: "clojure -X inferenceql.structure-learning.main/numericalize :schema '\"\
      data/schema.edn\"' :table data/mapping-table.edn < data/ignored.csv > data/numericalized.csv\n"
    deps:
    - path: data/ignored.csv
      hash: md5
      md5: c47b1a3e0c9d37e46ece4ca396e6abf2
      size: 4064299
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    outs:
    - path: data/mapping-table.edn
      hash: md5
      md5: 82cf0512edfb4c514e7ddb6432ae9954
      size: 10104
    - path: data/numericalized.csv
      hash: md5
      md5: 1545cd8e418dfc4771cd0021da4da820
      size: 856606
  loom-schema:
    cmd: "clojure -X inferenceql.structure-learning.main/loom-schema < data/schema.edn
      > data/loom-schema.json\n"
    deps:
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    outs:
    - path: data/loom-schema.json
      hash: md5
      md5: 0be2a04483a7510ae9201507b0462148
      size: 2085
  loom-ingest:
    cmd: ./bin/loom_task ingest loom data/loom-schema.json data/numericalized.csv
    deps:
    - path: data/loom-schema.json
      hash: md5
      md5: 0be2a04483a7510ae9201507b0462148
      size: 2085
    - path: data/numericalized.csv
      hash: md5
      md5: 1545cd8e418dfc4771cd0021da4da820
      size: 856606
    outs:
    - path: loom/ingest
      hash: md5
      md5: dd870a43f80dc0bfd9290650067b8dfb.dir
      size: 503382
      nfiles: 7
    - path: loom/query
      hash: md5
      md5: 79d3b254ab078b588fcb1a3a71cd3ab6.dir
      size: 106
      nfiles: 1
  loom-infer-config:
    cmd: "clojure -X inferenceql.structure-learning.main/infer-config < params.yaml
      > data/infer-config.json\n"
    params:
      params.yaml:
        loom.extra_passes: 100
        seed: 42
    outs:
    - path: data/infer-config.json
      hash: md5
      md5: 70b4dd42c4dfdfa83918a045e7078ab9
      size: 43
  loom-infer:
    cmd: ./bin/loom_task infer loom 45 data/infer-config.json
    deps:
    - path: data/infer-config.json
      hash: md5
      md5: 70b4dd42c4dfdfa83918a045e7078ab9
      size: 43
    - path: loom/ingest
      hash: md5
      md5: dd870a43f80dc0bfd9290650067b8dfb.dir
      size: 503382
      nfiles: 7
    - path: loom/query
      hash: md5
      md5: 79d3b254ab078b588fcb1a3a71cd3ab6.dir
      size: 106
      nfiles: 1
    params:
      params.yaml:
        sample_count: 45
    outs:
    - path: loom/samples
      hash: md5
      md5: 575ccef47d95dd7b93de000fb54b76a3.dir
      size: 22536392
      nfiles: 473
  loom-dump-metadata:
    cmd: "mkdir -p data/cgpm/raw && find loom/samples -mindepth 1 -maxdepth 1 -type
      d | parallel --verbose ./bin/loom python scripts/loom_dump.py {} --output data/cgpm/raw/{/}.json\n"
    deps:
    - path: loom/samples
      hash: md5
      md5: 575ccef47d95dd7b93de000fb54b76a3.dir
      size: 22536392
      nfiles: 473
    - path: scripts/loom_dump.py
      hash: md5
      md5: c43616fe12258e9314fe1b481a6971e8
      size: 1978
    params:
      params.yaml:
        parallel.flags: --verbose
    outs:
    - path: data/cgpm/raw
      hash: md5
      md5: b8b4721c045be9c88ed0ef08f08b54b3.dir
      size: 4172437
      nfiles: 45
  cgpm-hydrate-metadata:
    cmd: "find data/cgpm/raw -type f | parallel jsonschema --instance {} schemas/cgpm.json
      && mkdir -p data/cgpm/hydrated && rm -f data/cgpm/inf.log && find data/cgpm/raw
      -type f | sort | parallel --verbose 'python scripts/cgpm_hydrate.py --metadata
      {} --output data/cgpm/hydrated/{/} --data data/numericalized.csv --schema data/cgpm-schema.edn
      --mapping-table data/mapping-table.edn --seed $((42 + {#} - 1))'\n"
    deps:
    - path: data/cgpm-schema.edn
      hash: md5
      md5: cabc76bbb3541bbbd0f31f11658dde10
      size: 2787
    - path: data/cgpm/raw
      hash: md5
      md5: b8b4721c045be9c88ed0ef08f08b54b3.dir
      size: 4172437
      nfiles: 45
    - path: data/mapping-table.edn
      hash: md5
      md5: 82cf0512edfb4c514e7ddb6432ae9954
      size: 10104
    - path: data/numericalized.csv
      hash: md5
      md5: 1545cd8e418dfc4771cd0021da4da820
      size: 856606
    - path: schemas/cgpm.json
      hash: md5
      md5: 75fb21013e98a73e03fbe1ace14426f2
      size: 4039
    - path: scripts/cgpm_hydrate.py
      hash: md5
      md5: 0ad32ff550f8b45a3642bddf279c9664
      size: 2971
    params:
      params.yaml:
        parallel.flags: --verbose
        seed: 42
    outs:
    - path: data/cgpm/hydrated
      hash: md5
      md5: 9e4f58bd78db0d3b8f8c1e6a2c4cec33.dir
      size: 118176278
      nfiles: 45
  cgpm-infer-hyperparameters:
    cmd: "find data/cgpm/hydrated -type f | parallel jsonschema --instance {} schemas/cgpm.json
      && mkdir -p data/cgpm/complete && echo 4200 >> data/cgpm/inf.log && find data/cgpm/hydrated
      -type f | sort | parallel --verbose 'python scripts/cgpm_infer.py {} --kernel
      alpha --kernel view_alphas --kernel column_hypers --kernel rows --kernel columns
      --output data/cgpm/complete/{/} --data data/numericalized.csv --params params.yaml
      --seed $((42 + {#} - 1)) --minutes 4200' #--iterations 1\n"
    deps:
    - path: data/cgpm/hydrated
      hash: md5
      md5: 9e4f58bd78db0d3b8f8c1e6a2c4cec33.dir
      size: 118176278
      nfiles: 45
    - path: data/numericalized.csv
      hash: md5
      md5: 1545cd8e418dfc4771cd0021da4da820
      size: 856606
    - path: schemas/cgpm.json
      hash: md5
      md5: 75fb21013e98a73e03fbe1ace14426f2
      size: 4039
    - path: scripts/cgpm_infer.py
      hash: md5
      md5: 8c953870a8ac391bb77deeb105403131
      size: 4523
    params:
      params.yaml:
        cgpm:
          iterations: 1
          minutes: 4200
        parallel.flags: --verbose
        seed: 42
    outs:
    - path: data/cgpm/complete
      hash: md5
      md5: afa1ca20920df862fc5eaa5c27fd279c.dir
      size: 111449035
      nfiles: 45
  save-dependencies:
    cmd: "find data/cgpm/complete -type f | sort | xargs python scripts/dep_prob.py
      --data data/numericalized.csv --output data/dep-prob.json\n"
    deps:
    - path: data/cgpm/complete
      hash: md5
      md5: afa1ca20920df862fc5eaa5c27fd279c.dir
      size: 111449035
      nfiles: 45
    outs:
    - path: data/dep-prob.json
      hash: md5
      md5: 2191de198ee70028abac2fda294a4d7b
      size: 186986
  save-max-number-views:
    cmd: "find data/cgpm/complete -type f | xargs python scripts/save_n_views.py >>
      data/max-number-views.txt\n"
    deps:
    - path: data/cgpm/complete
      hash: md5
      md5: afa1ca20920df862fc5eaa5c27fd279c.dir
      size: 111449035
      nfiles: 45
    outs:
    - path: data/max-number-views.txt
      hash: md5
      md5: c9f0f895fb98ab9159f51fd0297e236d
      size: 1
  dep-prob-vl:
    cmd: "clojure -X inferenceql.structure-learning.heatmap/vega-lite :stats-path
      '\"data/dep-prob.json\"' :domain '[0.0 1.0]' :default 1.0 :name '\"crosscat\"\
      ' :scheme '\"blues\"' > data/dep-prob.vl.json\n"
    deps:
    - path: data/dep-prob.json
      hash: md5
      md5: 2191de198ee70028abac2fda294a4d7b
      size: 186986
    - path: src/clojure/inferenceql/structure_learning/heatmap.clj
      hash: md5
      md5: 1f6a14b5a79609a870edb49773e712e1
      size: 7369
    outs:
    - path: data/dep-prob.vl.json
      hash: md5
      md5: f5a31d5be0e694eb5a1fc2bdfeb7271d
      size: 439687
  dep-prob-vg:
    cmd: "pnpm vl2vg < data/dep-prob.vl.json > data/dep-prob.vg.json\n"
    deps:
    - path: data/dep-prob.vl.json
      hash: md5
      md5: f5a31d5be0e694eb5a1fc2bdfeb7271d
      size: 439687
    outs:
    - path: data/dep-prob.vg.json
      hash: md5
      md5: 8b408c1b446be7479b81019d78411238
      size: 439632
  dep-prob-svg:
    cmd: "pnpm vg2svg < data/dep-prob.vg.json > data/dep-prob.svg\n"
    deps:
    - path: data/dep-prob.vg.json
      hash: md5
      md5: 8b408c1b446be7479b81019d78411238
      size: 439632
    outs:
    - path: data/dep-prob.svg
      hash: md5
      md5: 34f1ec508dac17efafbcb54fc5d335a7
      size: 1061932
  save-linear-stats:
    cmd: "python scripts/linear_stats.py --data data/ignored.csv --schema data/schema.edn
      --output data/linear-stats.json\n"
    deps:
    - path: data/ignored.csv
      hash: md5
      md5: c47b1a3e0c9d37e46ece4ca396e6abf2
      size: 4064299
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    - path: scripts/linear_stats.py
      hash: md5
      md5: d5ebd4d1195a949b7c66ea7b77447f11
      size: 4361
    outs:
    - path: data/linear-stats.json
      hash: md5
      md5: 0a503bbb0517ae492e1877b22418966c
      size: 483036
  linear-stats-vl:
    cmd: "clojure -X inferenceql.structure-learning.heatmap/vega-lite :stats-path
      '\"data/linear-stats.json\"' :sort-path '\"data/dep-prob.json\"' :domain '[1.0
      0.0]' :default 0.0 :name '\"statistics\"' :field '\"p-value\"' :scheme '\"oranges\"\
      ' > data/linear-stats.vl.json\n"
    deps:
    - path: data/dep-prob.json
      hash: md5
      md5: 2191de198ee70028abac2fda294a4d7b
      size: 186986
    - path: data/linear-stats.json
      hash: md5
      md5: 0a503bbb0517ae492e1877b22418966c
      size: 483036
    - path: src/clojure/inferenceql/structure_learning/heatmap.clj
      hash: md5
      md5: 1f6a14b5a79609a870edb49773e712e1
      size: 7369
    outs:
    - path: data/linear-stats.vl.json
      hash: md5
      md5: bc7be72e7963c232bebf96937b2e7d4a
      size: 495908
  linear-stats-vg:
    cmd: "pnpm vl2vg < data/linear-stats.vl.json > data/linear-stats.vg.json\n"
    deps:
    - path: data/linear-stats.vl.json
      hash: md5
      md5: bc7be72e7963c232bebf96937b2e7d4a
      size: 495908
    outs:
    - path: data/linear-stats.vg.json
      hash: md5
      md5: 188dc4acca39e47c242d4d861cb0030c
      size: 502206
  linear-stats-svg:
    cmd: "pnpm vg2svg < data/linear-stats.vg.json > data/linear-stats.svg\n"
    deps:
    - path: data/linear-stats.vg.json
      hash: md5
      md5: 188dc4acca39e47c242d4d861cb0030c
      size: 502206
    outs:
    - path: data/linear-stats.svg
      hash: md5
      md5: b197de1a581e325075266bf2e34954a6
      size: 1102876
  compare-dep-prob-with-linear:
    cmd: "python scripts/compare_deps.py --deps data/dep-prob.json --linear data/linear-stats.json
      >> data/qc-statistical-tests.txt\n"
    deps:
    - path: data/dep-prob.json
      hash: md5
      md5: 2191de198ee70028abac2fda294a4d7b
      size: 186986
    - path: data/linear-stats.json
      hash: md5
      md5: 0a503bbb0517ae492e1877b22418966c
      size: 483036
    outs:
    - path: data/qc-statistical-tests.txt
      hash: md5
      md5: 06af7d8661b5b5e683232be25c99cef6
      size: 75446
  ast-export:
    cmd:
    - 'parallel --verbose jsonschema --instance {} schemas/cgpm.json :::: <(find data/cgpm/complete
      -type f)'
    - mkdir -p data/ast
    - "parallel --verbose 'python scripts/ast_export.py --metadata {} --data data/numericalized.csv
      --mapping-table data/mapping-table.edn --output data/ast/{/.}.edn' :::: <(find
      data/cgpm/complete -type f)"
    deps:
    - path: data/cgpm/complete
      hash: md5
      md5: afa1ca20920df862fc5eaa5c27fd279c.dir
      size: 111449035
      nfiles: 45
    - path: data/ignored.csv
      hash: md5
      md5: c47b1a3e0c9d37e46ece4ca396e6abf2
      size: 4064299
    - path: scripts/ast_export.py
      hash: md5
      md5: 301e377deb0aaf75b1a961a6d91153a8
      size: 11045
    params:
      params.yaml:
        parallel.flags: --verbose
    outs:
    - path: data/ast
      hash: md5
      md5: c07e55f6db0d5c2726e086a03d2117b8.dir
      size: 76334580
      nfiles: 45
  sppl-import:
    cmd:
    - mkdir -p data/sppl/unmerged
    - "parallel --verbose 'python scripts/sppl_import.py --multi-mix-ast {} --max-number-views
      data/max-number-views.txt --output data/sppl/unmerged/{/.}.json' :::: <(find
      data/ast -type f)"
    deps:
    - path: data/ast
      hash: md5
      md5: c07e55f6db0d5c2726e086a03d2117b8.dir
      size: 76334580
      nfiles: 45
    - path: data/max-number-views.txt
      hash: md5
      md5: c9f0f895fb98ab9159f51fd0297e236d
      size: 1
    - path: scripts/sppl_import.py
      hash: md5
      md5: 60da181980209f224dd1ed4f8b92c57e
      size: 4743
    params:
      params.yaml:
        parallel.flags: --verbose
    outs:
    - path: data/sppl/unmerged
      hash: md5
      md5: 8a15189978e588ae19d3df1102cdd587.dir
      size: 50270048
      nfiles: 45
  sppl-merge:
    cmd: "find data/sppl/unmerged -type f | sort | xargs python scripts/sppl_merge.py
      --output data/sppl/merged.json\n"
    deps:
    - path: data/sppl/unmerged
      hash: md5
      md5: 8a15189978e588ae19d3df1102cdd587.dir
      size: 50270048
      nfiles: 45
    outs:
    - path: data/sppl/merged.json
      hash: md5
      md5: 08cea415faf277809ad78c4ed786f1b0
      size: 50274899
  sppl-sample:
    cmd: "python scripts/sppl_sample.py --model data/sppl/merged.json --data data/ignored.csv
      > data/synthetic-data-iql.csv # --sample_count 5000\n"
    deps:
    - path: data/ignored.csv
      hash: md5
      md5: c47b1a3e0c9d37e46ece4ca396e6abf2
      size: 4064299
    - path: data/sppl/merged.json
      hash: md5
      md5: 08cea415faf277809ad78c4ed786f1b0
      size: 50274899
    - path: scripts/sppl_sample.py
      hash: md5
      md5: 65c711874e0eda0e7d79b4a4a3eb6076
      size: 1843
    outs:
    - path: data/synthetic-data-iql.csv
      hash: md5
      md5: 9cf839dbcc401b5fc6984c64bbd5f178
      size: 4415615
  qc-tag-samples:
    cmd: "clojure -X inferenceql.structure-learning.qc.samples/tag :data data/ignored.csv
      :samples-synthetic data/synthetic-data-iql.csv > qc/samples/samples.edn\n"
    deps:
    - path: data/ignored.csv
      hash: md5
      md5: c47b1a3e0c9d37e46ece4ca396e6abf2
      size: 4064299
    - path: data/synthetic-data-iql.csv
      hash: md5
      md5: 9cf839dbcc401b5fc6984c64bbd5f178
      size: 4415615
    - path: src/clojure/inferenceql/structure_learning/qc/samples.clj
      hash: md5
      md5: 21cf908468fac3a93ac56ccbed701c2b
      size: 1105
    outs:
    - path: qc/samples/samples.edn
      hash: md5
      md5: c6f081d99e5b3d38ce89746a19edca6f
      size: 32547043
  xcat-complete-import:
    cmd:
    - mkdir -p data/xcat/complete/
    - "parallel --verbose 'clojure -X inferenceql.structure-learning.xcat/import :cgpm-json
      {} :data-csv data/ignored.csv :mapping-table data/mapping-table.edn :numericalized-csv
      data/numericalized.csv :schema-edn data/schema.edn > data/xcat/complete/{/.}.edn'
      :::: <(find data/cgpm/complete -type f)"
    deps:
    - path: data/cgpm/complete
      hash: md5
      md5: afa1ca20920df862fc5eaa5c27fd279c.dir
      size: 111449035
      nfiles: 45
    - path: data/ignored.csv
      hash: md5
      md5: c47b1a3e0c9d37e46ece4ca396e6abf2
      size: 4064299
    - path: data/mapping-table.edn
      hash: md5
      md5: 82cf0512edfb4c514e7ddb6432ae9954
      size: 10104
    - path: data/numericalized.csv
      hash: md5
      md5: 1545cd8e418dfc4771cd0021da4da820
      size: 856606
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    - path: src/clojure/inferenceql/structure_learning/xcat.clj
      hash: md5
      md5: 7c94708ec206b10c4fc3c342747f291e
      size: 4639
    params:
      params.yaml:
        parallel.flags: --verbose
    outs:
    - path: data/xcat/complete/
      hash: md5
      md5: 40c06692c7d3d4f803a03488ea816438.dir
      size: 977312678
      nfiles: 45
  qc-dashboard-spec:
    cmd: "clojure -X inferenceql.structure-learning.qc.dashboard/spec :samples qc/samples/samples.edn
      :schema data/schema.edn :correlation data/linear-stats.json > qc/specs/qc-dashboard.vl.json\n"
    deps:
    - path: data/linear-stats.json
      hash: md5
      md5: 0a503bbb0517ae492e1877b22418966c
      size: 483036
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    - path: qc/samples/samples.edn
      hash: md5
      md5: c6f081d99e5b3d38ce89746a19edca6f
      size: 32547043
    - path: src/clojure/inferenceql/structure_learning/qc/dashboard.clj
      hash: md5
      md5: c678abb13e37d2cf531303cb4ca700f8
      size: 28333
    - path: src/clojure/inferenceql/structure_learning/qc/util.clj
      hash: md5
      md5: bbd0d1c7689b4ca5978a858720a20ae0
      size: 4120
    params:
      params.yaml:
        qc.columns:
    outs:
    - path: qc/specs/qc-dashboard.vl.json
      hash: md5
      md5: 73bd2c72d426d48eb20d4bdc04f69ef9
      size: 35220890
  qc-dashboard-app:
    cmd: "clojure -X inferenceql.structure-learning.qc.app/create :template qc/templates/index.html
      :spec qc/specs/qc-dashboard.vl.json :renderer canvas :title '\"QC dashboard\"\
      ' > qc/app/qc-dashboard.html\n"
    deps:
    - path: qc/specs/qc-dashboard.vl.json
      hash: md5
      md5: 73bd2c72d426d48eb20d4bdc04f69ef9
      size: 35220890
    - path: qc/templates/index.html
      hash: md5
      md5: ac51efb107febc1caf14b5e2c6d0489d
      size: 1685
    - path: src/clojure/inferenceql/structure_learning/qc/app.clj
      hash: md5
      md5: 44f3af2bf39340cb11a5db1b4a86dfaa
      size: 524
    outs:
    - path: qc/app/qc-dashboard.html
      hash: md5
      md5: c31cf822182d26ddcc2a9e0850d85ebf
      size: 35222560
  qc-splom-spec:
    cmd: "clojure -X inferenceql.structure-learning.qc.splom/spec :samples qc/samples/samples.edn
      :schema data/schema.edn :correlation data/linear-stats.json > qc/specs/qc-splom.vl.json\n"
    deps:
    - path: data/linear-stats.json
      hash: md5
      md5: 0a503bbb0517ae492e1877b22418966c
      size: 483036
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    - path: qc/samples/samples.edn
      hash: md5
      md5: c6f081d99e5b3d38ce89746a19edca6f
      size: 32547043
    - path: src/clojure/inferenceql/structure_learning/qc/splom.clj
      hash: md5
      md5: 7b27c0cb0c9b6881367f0a2b7362a4c6
      size: 10882
    - path: src/clojure/inferenceql/structure_learning/qc/util.clj
      hash: md5
      md5: bbd0d1c7689b4ca5978a858720a20ae0
      size: 4120
    params:
      params.yaml:
        qc.columns:
    outs:
    - path: qc/specs/qc-splom.vl.json
      hash: md5
      md5: f36a5bf7ffe42b8a505f96ae8ae3074e
      size: 35138888
  qc-splom-app:
    cmd: "clojure -X inferenceql.structure-learning.qc.app/create :template qc/templates/index.html
      :spec qc/specs/qc-splom.vl.json :renderer canvas :title '\"QC scatter plot matrix\"\
      ' > qc/app/qc-splom.html\n"
    deps:
    - path: qc/specs/qc-splom.vl.json
      hash: md5
      md5: f36a5bf7ffe42b8a505f96ae8ae3074e
      size: 35138888
    - path: qc/templates/index.html
      hash: md5
      md5: ac51efb107febc1caf14b5e2c6d0489d
      size: 1685
    - path: src/clojure/inferenceql/structure_learning/qc/app.clj
      hash: md5
      md5: 44f3af2bf39340cb11a5db1b4a86dfaa
      size: 524
    outs:
    - path: qc/app/qc-splom.html
      hash: md5
      md5: eddf4a60b6fca79927f89b1d7725db0b
      size: 35140568
  predict:
    cmd: "python scripts/predict.py --schema data/schema.edn --training data/ignored.csv
      --training data/synthetic-data-iql.csv --test data/test/test.csv --output data/predictions.csv
      #--test data/test/test-shifted.csv\n"
    deps:
    - path: data/ignored.csv
      hash: md5
      md5: c47b1a3e0c9d37e46ece4ca396e6abf2
      size: 4064299
    - path: data/schema.edn
      hash: md5
      md5: 80f16965fd73a1aecf8447471f1b61d3
      size: 2477
    - path: data/synthetic-data-iql.csv
      hash: md5
      md5: 9cf839dbcc401b5fc6984c64bbd5f178
      size: 4415615
    - path: data/test/test.csv
      hash: md5
      md5: 8b56a2bd2e0adfe80b014ef534f64735
      size: 3013
    - path: scripts/predict.py
      hash: md5
      md5: 9791ef81e7424516b5c452380c448706
      size: 7371
    params:
      params.yaml:
        synthetic_data_evaluation:
          predictor: Random_forest
    outs:
    - path: data/predictions.csv
      hash: md5
      md5: 5af995796b170bbad72ce93152de0bd6
      size: 411
  assemble-database:
    cmd: "clojure -M:exec inferenceql.structure-learning.main assemble-database --table-name
      data --table-path data/nullified.csv --model-name baseline_model --model-path
      data/xcat/complete/sample.0.edn > data/db.edn\n"
    deps:
    - path: data/cgpm
      hash: md5
      md5: 3e71c7915fe626eefc924adf6dc77df4.dir
      size: 233797755
      nfiles: 136
    - path: data/nullified.csv
      hash: md5
      md5: 8a549a662f4975d7acb258f9d1481180
      size: 4124085
    - path: data/xcat
      hash: md5
      md5: c4b1a8f692788236a3ef9040b65cfa89.dir
      size: 977312678
      nfiles: 45
    params:
      params.yaml:
        database.model_name: baseline_model
        database.model_path: data/xcat/complete/sample.0.edn
        database.table_name: data
        database.table_path: data/nullified.csv
    outs:
    - path: data/db.edn
      hash: md5
      md5: 5f498c19962ef7115d96782ceffbe79c
      size: 36063098
