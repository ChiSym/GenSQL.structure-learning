schema: '2.0'
stages:
  loom-to-cgpm:
    cmd: "mkdir -p data/cgpm/hydrated && ls loom/samples | parallel  \"poetry run
      loom_to_cgpm --column_model_filename data/column_models.json --data_filename
      data/preprocessed.csv --loom_folder loom/samples/{} --out_filename data/cgpm/hydrated/{}.json\"\
      \n"
    deps:
    - path: data/column_models.json
      hash: md5
      md5: 7772ae9f5cb85181948185d4f207758e
      size: 35668
    - path: data/preprocessed.csv
      hash: md5
      md5: 600f11d7faec5d30ad600f015c94faf8
      size: 71693274
    - path: loom/samples
      hash: md5
      md5: 7c24c5aef03d9fcb478fd435891b11b5.dir
      size: 2022975250
      nfiles: 251
    outs:
    - path: data/cgpm/hydrated
      hash: md5
      md5: e9c6b239e6fa1f04a64637675e261fd2.dir
      size: 182875349
      nfiles: 10
  dependence-probability@hydrated:
    cmd: poetry run dependence-probability --model_dir data/cgpm/hydrated --out_file
      qc/cgpm-hydrated-dependence-probability.csv
    deps:
    - path: data/cgpm/hydrated
      hash: md5
      md5: e9c6b239e6fa1f04a64637675e261fd2.dir
      size: 182875349
      nfiles: 10
    outs:
    - path: qc/cgpm-hydrated-dependence-probability.csv
      hash: md5
      md5: fe040bb65a46e205e6efa17212fdc213
      size: 1514999
  marginal-fits-plot:
    cmd: "poetry run marginal-fits-plot -m loom -m cgpm-raw\n"
    deps:
    - path: qc/marginals/cgpm-raw_1d_fits.csv
      hash: md5
      md5: fc116698af2d71e04f9951c0600dc489
      size: 10220
    - path: qc/marginals/cgpm-raw_2d_fits.csv
      hash: md5
      md5: 78006c5919599ddf0eaa59e5daba5e92
      size: 1797644
    - path: qc/marginals/loom_1d_fits.csv
      hash: md5
      md5: a149c19671ac58dcda4da8b389cdf11c
      size: 10223
    - path: qc/marginals/loom_2d_fits.csv
      hash: md5
      md5: 60abfbcb19d931ff169a0811c74c9412
      size: 1797577
    outs:
    - path: qc/marginals/1d_fits.csv
      hash: md5
      md5: 57006b76438b26879ec0a9c2745c339f
      size: 19278
    - path: qc/marginals/2d_fits.csv
      hash: md5
      md5: 5bad5ce48db827f4cdba410626253a3f
      size: 2982929
